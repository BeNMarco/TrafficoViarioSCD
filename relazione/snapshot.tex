\section{Snapshot di sistema}
In un sistema distribuito, una funzionalità fondamentale è data dalla possibilità di permettere di salvare delle istantanee dello stato di sistema. L'istantanea del sistema permette di ripristinare il sistema ad un determinato stato; un'instantanea coinvolge l'intero sistema e deve creare un'immagine dello stesso che sia consistente tra le partizioni di cui il sistema distribuito è composto. \\
Analizzando il nostro sistema le uniche componenti che richiedono una snapshot sono le componenti rappresentate dai quartieri. Queste componenti infatti conservano lo stato di avanzamento del sistema, o meglio lo stato di spostamento delle entità, e quindi sono le componenti che meritano la possibilità di partecipare ad una certa snapshot di sistema. Il server gps non conserva invece uno stato da far rientrare in una snapshot di sistema, questo infatti conserva solo lo stato della mappa, e tale stato può essere interamente ricostruito nel momento in cui tutti i quartieri interessati in una certa snapshot vengono istanziati. \\
Per costruzione il sistema prevede un protocollo di sincronizzazione, in quel momento tutto il sistema si troverà in uno stato consistente, permettendo quindi in quel momento la creazione dell'immagine dello stato del sistema. Lo stato di sistema è contenuto nelle mailbox delle entità attive, quindi occorre rendere persistenti le strutture dati che contengono lo stato di avanzamento delle entità passive in una certa entità attiva. Altri componenti che meritano di partecipare alla snapshot di sistema sono il gestore degli autobus del quartiere in cui è memorizzato lo stato dell'autobus stesso (fermate fatte e da fare, entità che l'autobus ha in carico), e infine la componente che è il gestore del servizio di locazione di una certa entità passiva dato che contiene lo stato del percorso di una certa entità.\\
Le istantanea del sistema non sono state implementate nel prototipo.